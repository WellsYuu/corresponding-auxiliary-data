<!--
  ~ Copyright 2022 the original author or authors.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div ng-if="!req.stopped" class="visualize-spy-loading">
  <div class="visualize-spy-loading-text">
    Request in progress
    &nbsp;
    <div class="spinner"></div>
  </div>
</div>

<div ng-if="req.stopped && req.success === false" ng-init="console.log(req)" class="alert alert-danger">
  <i class="fa fa-danger"></i> Request Failed
</div>

<div ng-if="spy.mode.name === 'request'">
  <label>
    Elasticsearch request body &nbsp;
  </label>
  <pre>{{req.fetchParams.body | json}}</pre>
</div>

<div ng-if="spy.mode.name === 'response'">
  <label>
    Elasticsearch response body &nbsp;
  </label>
  <pre>{{req.resp | json}}</pre>
</div>

<div ng-if="spy.mode.name === 'stats'">
  <table class="table">
    <tr ng-repeat="pair in stats">
      <td>{{pair[0]}}</td>
      <td>{{pair[1]}}</td>
    </tr>
  </table>
</div>
