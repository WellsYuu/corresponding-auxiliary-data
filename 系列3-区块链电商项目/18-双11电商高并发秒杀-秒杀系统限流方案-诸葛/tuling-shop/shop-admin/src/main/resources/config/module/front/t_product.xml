<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by autoCode,v1.0.0 --><mapper namespace="front.product">	<select id="front.product.selectPageList" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select 		t.id "id",		t.status,		t.catalogID "catalogID",		t.name "name",		t.introduce "introduce",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		DATE_FORMAT(t.createtime,'%Y-%m-%d') "createtime",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount	 from t_product t where 1=1 and status=2 and activityID is null 	 <if test="attrID!=null and attrID !=''">		 and t.id in (select al.productID from t_attributeLink al where al.attrID=#{attrID})	 </if>	 <if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="id!=null and id!=''">		 	and id=#{id}	 </if>	 <if test="name!=null and name!=''">		and t.name like CONCAT('%','${name}','%' ) 	 </if>	 <if test="special!=null and special!=''">	 	<if test="special.equals('hot')"> order by hit desc </if>	 	<if test="special.equals('newest')"> and isnew='y' </if>	 	<if test="special.equals('sale')"> and sale='y' </if>	 </if>	 	 <if test="special==null">		 <if test="orderBy==0">			 order by id desc 		 </if>		 <if test="orderBy==1">			 order by hit desc 		 </if>		 <if test="orderBy==2">			 order by price desc 		 </if>		 <if test="orderBy==3">			 order by createtime desc 		 </if>	 </if>	 limit #{offset},#{pageSize} 	</select> 	<select id="front.product.selectPageCount" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="java.lang.Integer">	 select count(*) from t_product t where 1=1 and status=2 and activityID is null 	 <if test="attrID!=null">		 and t.id in (select al.productID from t_attributeLink al where al.attrID=#{attrID})	 </if>	<if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="id!=null and id!=''">		 	and id=#{id}	 </if>	 <if test="name!=null and name!=''">		and t.name like CONCAT('%','${name}','%' ) 	 </if>	 <if test="special!=null and special!=''">	 	<if test="special.equals('hot')"> order by hit desc </if>	 	<if test="special.equals('newest')"> and isnew='y' </if>	 	<if test="special.equals('sale')"> and sale='y' </if>	 </if>	</select>		<select id="front.product.selectHotSearch" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select 		t.id,		t.name 	 from t_product t where 1=1 and status=2 	 <if test="productIds!=null and productIds.size &gt; 0">	  and t.id in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	</select>		<!-- 加载促销活动的商品 -->	<select id="front.product.selectActivityProductList" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select 		t.id "id",		t.status,		t.catalogID "catalogID",		t.name "name",		t.introduce "introduce",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		DATE_FORMAT(t.createtime,'%Y-%m-%d') "createtime",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount,		t.activityID  <!-- 		(select * from t_activity activity where activity.id=t.activityID)  -->	 from t_product t where 1=1 and status=2 and activityID is not null 	 	<if test="productIds!=null and productIds.size &gt; 0">	  		and t.id in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   			</foreach> 		</if>	</select>		<select id="front.product.loadHotProductShowInSuperMenu" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select t.id,t.name from t_product t where 1=1 and status=2 	 <if test="productIds!=null and productIds.size &gt; 0">	  and t.catalogID in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 order by sellcount desc 	 limit 0,#{top} 	</select>		<select id="front.product.selectList" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select 		t.id "id",		t.catalogID "catalogID",		t.name "name",		t.introduce "introduce",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		DATE_FORMAT(t.createtime,'%Y-%m-%d') "createtime",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount	 from t_product t where 1=1 and status=2 	<if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 <if test="id!=null and id!=''">	 	and id=#{id}	</if>	 <if test="name!=null and name!=''">		and t.name like CONCAT('%','${name}','%' ) 	 </if>	 <if test="isnew!=null and isnew!=''">	 	and isnew=#{isnew}	 </if>	 <if test="sale!=null and sale!=''">	 	and sale=#{sale}	 </if> 	 	 	 <if test="hot"> 	order by sellcount desc 	 </if>	 <if test="!hot"> 	order by id desc 	 </if> 	<if test="top &gt; 0">	 limit 0,#{top}  	</if>	</select>		<select id="front.product.selectPageLeftHotProducts" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select 		t.id "id",		t.catalogID "catalogID",		t.name "name",		t.price "price",		t.nowPrice "nowprice",		t.picture "picture",		t.isnew "isnew",		t.sale "sale",		t.hit "hit",		t.stock,t.sellcount	 from t_product t where 1=1 and status=2 	 <if test="catalogID!=null and catalogID!=''"> and catalogID=#{catalogID} </if>	 <if test="queryCatalogIDs!=null and queryCatalogIDs.size &gt; 0">	  and catalogID in <foreach item="item" index="index" collection="queryCatalogIDs" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	 limit 0,#{top} 	</select>		<select id="front.product.selectStockList" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.ProductStockInfo">	 select t.id,t.stock,t.activityID,score from t_product t where 1=1 and status=2 	 <if test="id!=null and id!=''"> and id=#{id}</if>	</select>		<select id="front.product.selectProductListByIds" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select t.id,t.stock,t.name,t.nowPrice,t.picture from t_product t where 1=1 and status=2 	 <if test="productIds!=null and productIds.size &gt; 0">	  and id in <foreach item="item" index="index" collection="productIds" open="(" separator="," close=")">    			#{item}   		</foreach>	 </if>	</select>		<select id="front.product.selectListProductHTML" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select t.id,t.productHTML from t_product t where 1=1 and status=2 and t.productHTML is not null 	 <if test="id!=null and id!=''"> and id=#{id}</if>	</select>		<update id="front.product.update" parameterType="com.jiagouedu.services.front.product.bean.Product">		update t_product		  set id=#{id}		<if test="catalogID!=null and catalogID!=''">		,catalogID=#{catalogID}		</if>		<if test="name !=null and name !=''">		,name=#{name}		</if>		<if test="introduce !=null and introduce !=''">		,introduce=#{introduce}		</if>		<if test="price !=null and price !=''">		,price=#{price}		</if>		<if test="nowPrice !=null and nowPrice !=''">		,nowPrice=#{nowPrice}		</if>		<if test="picture !=null and picture !=''">		,picture=#{picture}		</if>		<if test="maxPicture !=null and maxPicture !=''">		,maxPicture=#{maxPicture}		</if>		<if test="productHTML !=null and productHTML !=''">		,productHTML=#{productHTML}		</if>		<if test="createtime !=null and createtime !=''">		,createtime=#{createtime}		</if>		<if test="isnew !=null and isnew!=''">		,isnew=#{isnew}		</if>		<if test="sale !=null and sale!=''">		,sale=#{sale}		</if>		<if test="hit !=0">		,hit=#{hit}		</if>		<if test="status !=0">		,status=#{status}		</if>		 where 1=1 and id=#{id}	</update>		<update id="front.product.updateStockAfterPaySuccess" parameterType="com.jiagouedu.services.front.product.bean.Product">		update t_product set stock=#{stock},sellcount=#{addSellcount}+sellcount where 1=1 and id=#{id}	</update>		<update id="front.product.updateHit" parameterType="com.jiagouedu.services.front.product.bean.Product">		update t_product set hit=hit+1 where 1=1 and id=#{id}	</update> 	<select id="front.product.selectOne" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 select * 	 from t_product t where 1=1 		 <if test="id!=null and id!=''">		 	and id=#{id} 		</if>		 <if test="catalogID!=null and catalogID!=''">			and catalogID=#{catalogID}		</if>		 <if test="name!=null and name!=''">			and t.name like CONCAT('%','${name}','%' ) 		 </if>	</select>	<select id="front.product.selectParameterList" parameterType="com.jiagouedu.services.front.product.bean.Product" resultType="com.jiagouedu.services.front.product.bean.Product">	 SELECT a.name,al.value FROM t_attribute a,t_attributeLink  al	 where a.id=al.attrID and al.productID=#{id} and al.value is not null	</select>		<select id="front.product.selectById" parameterType="string" resultType="com.jiagouedu.services.front.product.bean.Product">	 select * from t_product t where 1=1 and id=#{id} 	</select></mapper>