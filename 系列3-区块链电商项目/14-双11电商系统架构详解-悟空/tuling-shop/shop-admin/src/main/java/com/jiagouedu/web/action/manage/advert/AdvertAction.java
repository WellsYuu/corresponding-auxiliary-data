package com.jiagouedu.web.action.manage.advert;import com.jiagouedu.services.manage.advert.AdvertService;import com.jiagouedu.services.manage.advert.bean.Advert;import com.jiagouedu.web.action.BaseController;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.mvc.support.RedirectAttributes;import javax.servlet.http.HttpServletRequest;/** * 广告管理 * @author wukong 图灵学院 QQ:245553999 * @author wukong 图灵学院 QQ:245553999 * */@Controller@RequestMapping("/manage/advert/")public class AdvertAction extends BaseController<Advert> {	private static final Logger logger = LoggerFactory.getLogger(AdvertAction.class);	private static final long serialVersionUID = 1L;	private static final String page_toList = "/manage/advert/advertList";	private static final String page_toEdit = "/manage/advert/advertEdit";	private static final String page_toAdd = "/manage/advert/advertEdit";	private AdvertAction() {		super.page_toList = page_toList;		super.page_toAdd = page_toAdd;		super.page_toEdit = page_toEdit;	}	@Autowired	private AdvertService advertService;	@Override	public AdvertService getService() {		return advertService;	}	public void setAdvertService(AdvertService advertService) {		this.advertService = advertService;	}	@Override	public String insert(HttpServletRequest request, Advert e, RedirectAttributes flushAttrs) throws Exception {		logger.info(">>>AdvertAction.insert");		super.insert(request, e, flushAttrs);		String id = e.getId();		logger.info(">>>AdvertAction.insert ,id = " + e.getId());		e = getService().selectById(id);		return "redirect:toEdit2?id="+e.getId();	}		@Override	public String update(HttpServletRequest request, Advert e, RedirectAttributes flushAttrs) throws Exception {		String id = e.getId();		super.update(request, e, flushAttrs);		e = getService().selectById(id);		return "redirect:toEdit2?id="+e.getId();	}		/**	 * 编辑	 */	@RequestMapping("toEdit2")	public String toEdit2(Advert advert, ModelMap model) throws Exception {		return toEdit0(advert, model);	}		private String toEdit0(Advert advert, ModelMap model) throws Exception {		return super.toEdit(advert, model);	}	}